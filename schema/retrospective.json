{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://forgepoint.dev/schemas/retrospective-v1.0.json",
  "title": "Forgepoint Retrospective Schema",
  "description": "Schema for Sprint/Project Retrospective documents in Forgepoint",
  "type": "object",
  "properties": {
    "forgepoint-type": {
      "const": "retrospective",
      "description": "Document type identifier"
    },
    "id": {
      "type": "string",
      "pattern": "^[a-z0-9-]+$",
      "description": "Unique identifier for this retrospective"
    },
    "status": {
      "type": "string",
      "enum": ["planned", "in-progress", "completed", "archived"],
      "description": "Current status of the retrospective"
    },
    "type": {
      "type": "string",
      "enum": ["sprint", "project", "incident", "quarterly"],
      "description": "Type of retrospective"
    },
    "sprint": {
      "type": "string",
      "description": "Sprint identifier (if sprint retrospective)"
    },
    "project": {
      "type": "string",
      "description": "Project name (if project retrospective)"
    },
    "team": {
      "type": "string",
      "description": "Team conducting the retrospective"
    },
    "facilitator": {
      "type": "string",
      "description": "Retrospective facilitator"
    },
    "participants": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Retrospective participants"
    },
    "date": {
      "type": "string",
      "format": "date",
      "description": "Retrospective date (YYYY-MM-DD)"
    },
    "created": {
      "type": "string",
      "format": "date",
      "description": "Creation date (YYYY-MM-DD)"
    },
    "updated": {
      "type": "string",
      "format": "date",
      "description": "Last update date (YYYY-MM-DD)"
    },
    "schema-version": {
      "const": "1.0",
      "description": "Schema version for this document type"
    }
  },
  "required": ["forgepoint-type", "id", "status", "type", "team", "facilitator", "date", "schema-version"],
  "additionalProperties": false,
  "structuralRequirements": {
    "title": {
      "required": true,
      "description": "Document must have a level-0 title"
    },
    "sections": {
      "required": [
        "What Went Well",
        "What Could Be Improved", 
        "Action Items"
      ],
      "optional": [
        "What We Learned",
        "Start Doing",
        "Stop Doing", 
        "Continue Doing",
        "Metrics",
        "Appreciations"
      ],
      "description": "Required and optional sections for retrospective documents"
    }
  }
}